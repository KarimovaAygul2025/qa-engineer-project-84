---
- summary: |
    Успешный поиск товаров по ключевому слову
  requirement: |
    Пользователь должен иметь возможность искать товары по ключевому слову
  prerequisites: |
    Пользователь находится на главной странице SPA-приложения, интернет-соединение стабильно. В базе данных существуют товары, соответствующие поисковому запросу.
  test-data: |
    Ключевое слово — "Powder Canister"
  steps:
    - Ввести в поле поиска запрос "Powder Canister"
  expected-result: |
    - Страница не перезагружается.
    - В результатах поиска отображаются товары, содержащие слово «Powder Canister».

- summary: |
    Фильтрация товаров по категории
  requirement: |
    Пользователь должен иметь возможность фильтровать товары
  prerequisites: |
    Пользователь находится в каталоге товаров. В каталоге есть несколько категорий.
  test-data: |
    Категория — "fragrances" (или другая доступная категория)
  steps:
    - Выбрать фильтр по категории
    - Применить фильтр
  expected-result: |
    - Страница не перезагружается.
    - Отображаются только товары выбранной категории.
    - Количество товаров соответствует выбранному фильтру.

- summary: |
    Добавление товара в корзину из карточки товара
  requirement: |
    Пользователь должен иметь возможность добавлять товары в корзину
  prerequisites: |
    Пользователь находится на странице карточки товара. Товар в наличии.
  test-data: |
    Товар — любой из каталога (например, "Chanel Coco Noir Eau De")
  steps:
    - Открыть карточку товара
    - Нажать кнопку «В корзину» (или «Add to Cart»)
    - Перейти в корзину
  expected-result: |
    - Страница не перезагружается.
    - Товар добавляется в корзину.
    - В корзине отображается добавленный товар с корректным названием и ценой.
    - Счётчик корзины в хедере обновляется.

- summary: |
    Удаление товара из корзины
  requirement: |
    На странице корзины пользователь может удалить товар из корзины
  prerequisites: |
    В корзине есть хотя бы один товар.
  test-data: |
    Товар в корзине — любой
  steps:
    - Открыть страницу корзины
    - Нажать кнопку удаления товара (иконка корзины/крестик)
    - Подтвердить удаление (если требуется)
  expected-result: |
    - Товар удаляется из корзины.
    - Сумма заказа пересчитывается.
    - Счётчик корзины в хедере обновляется.
    - При пустой корзине отображается соответствующее сообщение.

- summary: |
    Корректность отображения цены со скидкой
  requirement: |
    На странице товара и в каталоге нужно выводить название, рейтинг, цена со скидкой и без нее
  prerequisites: |
    Открыта страница сайта. В каталоге есть товар со старой ценой и отображается скидка в процентах.
  test-data: |
    Товар — Calvin Klein CK One, старая цена — 5000 ₽, скидка — 50%
  steps:
    - Найти товар со скидкой в каталоге
    - Открыть карточку товара
    - Проверить отображение цен
  expected-result: |
    - Отображаются старая (зачёркнутая) и новая цены.
    - Новая цена = 5000 - (5000 × 50 / 100) = 2500 ₽.
    - Скидка в процентах отображается корректно.

- summary: |
    Переключение языка интерфейса с русского на английский
  requirement: |
    Пользователь должен иметь возможность переключить язык интерфейса. Сайт должен иметь локализацию на русский и английский языки.
  prerequisites: |
    Пользователь находится на любой странице сайта.
  test-data: |
    Язык — EN (английский)
  steps:
    - Найти переключатель языка в хедере
    - Выбрать «EN» (английский)
    - Проверить элементы интерфейса
  expected-result: |
    - Интерфейс переключается на английский.
    - Названия товаров, кнопки, меню переведены на английский.
    - Кнопка «В корзину» отображается как «Add to Cart».
    - Специальные термины соответствуют международной номенклатуре (INCI).

- summary: |
    Переключение языка интерфейса с английского на русский
  requirement: |
    Пользователь должен иметь возможность переключить язык интерфейса. Сайт должен иметь локализацию на русском и английском языках.
  prerequisites: |
    Пользователь находится на любой странице сайта.
  test-data: |
    Язык — RU (русский)
  steps:
    - Найти переключатель языка в хедере
    - Выбрать «RU» (русский)
    - Проверить элементы интерфейса
  expected-result: |
    - Интерфейс переключается на русский.
    - Названия товаров, кнопки, меню переведены на русский.
    - Кнопка «Add to Cart» отображается как «В корзину».

- summary: |
    Постраничная навигация в каталоге
  requirement: |
    Пользователь будет просматривать каталог товаров, фильтруя их и пользуясь постраничным выводом.
  prerequisites: |
    В каталоге больше товаров, чем помещается на одной странице.
  test-data: |
    Количество товаров на странице — по умолчанию (например, 12)
  steps:
    - Открыть каталог
    - Прокрутить вниз до блока пагинации
    - Нажать на страницу «Следующая»
  expected-result: |
    - Страница не перезагружается полностью (SPA).
    - Отображается следующая страница товаров.
    - Пагинация обновляется (текущая страница выделена).
    - Товары отличаются от предыдущей страницы.

- summary: |
    Сохранение корзины в сессии при переходе между страницами
  requirement: |
    Корзина будет храниться в сессии браузера.
  prerequisites: |
    Пользователь добавил товар в корзину.
  test-data: |
    Товар в корзине — любой
  steps:
    - Добавить товар в корзину
    - Перейти в каталог
    - Перейти на главную
    - Вернуться в корзину
  expected-result: |
    - Товар остаётся в корзине после навигации.
    - Количество и сумма не меняются.
    - Данные корзины сохраняются в рамках сессии браузера.

- summary: |
    Отображение каталога на мобильном разрешении
  requirement: |
    Сайт должен иметь мобильную версию. Сайт должен быть доступен на различных устройствах.
  prerequisites: |
    Браузер открыт в режиме мобильного устройства или с узким viewport (например, 390×844).
  test-data: |
    Разрешение — 390×844 px (iPhone 14)
  steps:
    - Установить ширину окна браузера 390 px
    - Открыть каталог товаров
    - Открыть карточку товара
    - Проверить элементы интерфейса
  expected-result: |
    - Контент адаптирован под мобильный экран.
    - Элементы не обрезаются и доступны для взаимодействия.
    - Меню/навигация отображаются в мобильном виде (бургер-меню при необходимости).
    - Кнопки и ссылки имеют достаточный размер для тапа.
- summary: |
    Корректное отображение товаров в каталоге
  requirement: |
    На странице товара и в каталоге нужно выводить название, рейтинг, цена со скидкой и без нее
  prerequisites: |
    Пользователь находится на странице каталога. В каталоге есть товары.
  test-data: |
    Каталог с товарами разных категорий
  steps:
    - Открыть каталог товаров
    - Проверить отображение каждого товара в карточке
  expected-result: |
    В каждой карточке товара отображаются: название, рейтинг, цена (при наличии скидки — старая зачёркнутая и новая). Элементы не обрезаны и читаемы.

- summary: |
    Переход в категорию по хэштегу на странице товара
  requirement: |
    Пользователь должен иметь возможность фильтровать товары по категории
  prerequisites: |
    Пользователь открыл карточку товара.
  test-data: |
    Товар с хэштегом/тегом категории (например, «Парфюмерия»)
  steps:
    - Открыть карточку товара
    - Найти хэштег или ссылку на категорию
    - Нажать на хэштег/ссылку категории
  expected-result: |
    Происходит переход в каталог с применённым фильтром по выбранной категории. Отображаются товары этой категории.

- summary: |
    Фильтр по наличию товара
  requirement: |
    Пользователь должен иметь возможность фильтровать товары. Индикация наличия товара должна быть динамичной и правдивой.
  prerequisites: |
    Пользователь в каталоге. Есть товары в наличии и отсутствующие.
  test-data: |
    Фильтр «В наличии» / «In stock»
  steps:
    - Открыть каталог
    - Применить фильтр по наличию (если доступен)
    - Проверить список товаров
  expected-result: |
    Отображаются только товары в наличии. У отсутствующих товаров корректная индикация (например, «Нет в наличии»).

- summary: |
    Фильтр по цене
  requirement: |
    Пользователь должен иметь возможность фильтровать товары
  prerequisites: |
    Пользователь в каталоге. Есть товары с разными ценами.
  test-data: |
    Диапазон цен: от 1000 до 5000 ₽
  steps:
    - Открыть каталог
    - Указать минимальную и/или максимальную цену в фильтре
    - Применить фильтр
  expected-result: |
    Отображаются только товары в указанном диапазоне цен. Цены в карточках соответствуют фильтру.

- summary: |
    Фильтр по производителю (бренду)
  requirement: |
    Пользователь должен иметь возможность фильтровать товары
  prerequisites: |
    Пользователь в каталоге. Есть товары разных брендов.
  test-data: |
    Бренд = любой из списка (например, «Chanel»)
  steps:
    - Открыть каталог
    - Выбрать фильтр по производителю/бренду
    - Применить фильтр
  expected-result: |
    Отображаются только товары выбранного бренда. Фильтр можно сбросить.

- summary: |
    Поиск по пустой строке
  requirement: |
    Пользователь должен иметь возможность искать товары по ключевому слову
  prerequisites: |
    Пользователь на главной или в каталоге.
  test-data: |
    Поисковый запрос = пустая строка или только пробелы
  steps:
    - Оставить поле поиска пустым (или ввести пробелы)
    - Нажать кнопку поиска или Enter
  expected-result: |
    Отображается сообщение об ошибке или подсказка «Введите запрос», либо показывается весь каталог. Нет падения приложения.

- summary: |
    Поиск по несуществующему ключевому слову
  requirement: |
    Пользователь должен иметь возможность искать товары по ключевому слову
  prerequisites: |
    Пользователь в каталоге.
  test-data: |
    Запрос = «xyznonexistent123» (товаров с таким словом нет)
  steps:
    - Ввести несуществующий запрос в поле поиска
    - Нажать кнопку поиска или Enter
  expected-result: |
    Отображается сообщение «Ничего не найдено» или пустой результат. Нет ошибок в консоли и в сети.

- summary: |
    Поиск со спецсимволами и SQL-инъекцией
  requirement: |
    Сайт должен быть безопасным
  prerequisites: |
    Пользователь в каталоге.
  test-data: |
    Запрос = «' OR 1=1--» или «<script>alert(1)</script>»
  steps:
    - Ввести строку со спецсимволами в поле поиска
    - Нажать кнопку поиска
  expected-result: |
    Поиск обрабатывается без падения. Нет выполнения инъекции. XSS не срабатывает.

- summary: |
    Добавление нескольких одинаковых товаров в корзину
  requirement: |
    Пользователь должен иметь возможность добавлять товары в корзину
  prerequisites: |
    Пользователь в каталоге. Товар в наличии.
  test-data: |
    Товар = «Ночной крем», количество = 3
  steps:
    - Открыть карточку товара
    - Указать количество 3 (если есть поле)
    - Нажать «В корзину»
    - Либо добавить один и тот же товар 3 раза
    - Открыть корзину
  expected-result: |
    В корзине отображается товар с количеством 3. Сумма = цена × 3. Счётчик корзины показывает 3.

- summary: |
    Добавление нескольких разных товаров в корзину
  requirement: |
    Пользователь должен иметь возможность добавлять товары в корзину и просматривать содержимое корзины
  prerequisites: |
    Пользователь в каталоге. Несколько разных товаров в наличии.
  test-data: |
    Товар 1 = «Крем», Товар 2 = «Парфюм», Товар 3 = «Палетка»
  steps:
    - Добавить первый товар в корзину
    - Вернуться в каталог
    - Добавить второй товар
    - Добавить третий товар
    - Открыть корзину
  expected-result: |
    В корзине отображаются все 3 товара. Сумма заказа корректна. Каждый товар со своей ценой и количеством.

- summary: |
    Полная очистка корзины
  requirement: |
    У пользователя должна быть возможность очистить корзину
  prerequisites: |
    В корзине есть один или несколько товаров.
  test-data: |
    Корзина с 2–3 товарами
  steps:
    - Открыть корзину
    - Нажать «Очистить корзину» / «Clear cart» (или удалить все товары по одному)
  expected-result: |
    Корзина пуста. Отображается сообщение «Корзина пуста» или аналог. Счётчик корзины = 0. Ссылка «Продолжить покупки» доступна.

- summary: |
    Продолжение покупок из корзины
  requirement: |
    На странице корзины пользователь может продолжить выбирать товары в каталоге
  prerequisites: |
    Пользователь на странице корзины. В корзине есть товары.
  test-data: |
    Корзина с 1 товаром
  steps:
    - Открыть корзину
    - Нажать «Продолжить покупки» / «Continue shopping»
  expected-result: |
    Переход в каталог. Товары в корзине сохраняются. Счётчик корзины не меняется.

- summary: |
    Оформление заказа с переходом на страницу оплаты
  requirement: |
    На странице корзины пользователь может оформить заказ с переходом на страницу оплаты
  prerequisites: |
    В корзине есть товары. Пользователь на странице корзины.
  test-data: |
    ФИО: Иван Иванов, Телефон: +7 999 000-00-00, Email: test@example.com, Адрес: г. Москва, ул. Пушкина, д. 1
  steps:
    - Открыть корзину
    - Нажать «Оформить заказ»
    - Заполнить обязательные поля
    - Выбрать способ оплаты
    - Нажать «Перейти к оплате»
  expected-result: |
    Происходит переход на защищённую страницу платежной системы. Либо отображается подтверждение заказа (если оплата не реализована).

- summary: |
    Отображение дополнительных сборов до подтверждения заказа
  requirement: |
    Все дополнительные сборы (доставка, сертификат и т.д.) должны быть показаны до окончательного подтверждения заказа
  prerequisites: |
    Пользователь на странице оформления заказа.
  test-data: |
    Заказ с доставкой или дополнительными услугами
  steps:
    - Добавить товар в корзину
    - Перейти к оформлению заказа
    - Выбрать доставку или дополнительные услуги
    - Проверить блок с итоговой суммой
  expected-result: |
    До кнопки подтверждения отображаются: стоимость товаров, доставка, доп. сборы и итоговая сумма.
- summary: |
    Отсутствие ошибок в сетевых запросах при загрузке каталога
  requirement: |
    Сайт должен работать стабильно. SPA не перезагружает страницу.
  prerequisites: |
    Открыт браузер с DevTools (вкладка Network). Сайт products-store.hexlet.app открыт.
  test-data: |
    Страница каталога
  steps:
    - Открыть DevTools (F12) → вкладка Network
    - Очистить лог запросов
    - Открыть каталог или обновить страницу
    - Проверить статусы ответов (Status)
  expected-result: |
    Все запросы возвращают статус 200 (или 304 для кэша). Нет 4xx/5xx. В консоли нет ошибок.

- summary: |
    Отсутствие ошибок при добавлении в корзину и оформлении заказа
  requirement: |
    Сайт должен обрабатывать действия пользователя без ошибок
  prerequisites: |
    DevTools открыт, вкладки Network и Console активны.
  test-data: |
    Действия: добавление в корзину, переход в корзину, оформление заказа
  steps:
    - Очистить Network и Console
    - Добавить товар в корзину
    - Перейти в корзину
    - Начать оформление заказа
    - Проверить запросы и консоль
  expected-result: |
    Запросы к API возвращают успешные статусы. В Console нет ошибок (красных сообщений). Данные корзины сохраняются.
